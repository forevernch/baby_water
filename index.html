<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Baby Water & Food Log</title>
    <link rel="stylesheet" href="./css/styles.css" />
  </head>
  <body>
    <div class="app">
      <!-- Header -->
      <header class="topbar">
        <div class="topbar-title">Baby Water</div>
        <div class="topbar-sub">수분 섭취 기록</div>
      </header>

      <!-- Tabs -->
      <nav class="tabs" id="tabs">
        <button class="tab active" data-tab="water">물/음료</button>
        <button class="tab" data-tab="foodManual">음식수동</button>
        <button class="tab" data-tab="foodAI">음식 AI</button>
        <button class="tab" data-tab="today">오늘요약</button>
        <button class="tab" data-tab="monthly">월별요약</button>
      </nav>

      <!-- Content -->
      <main class="content">
        <!-- Water -->
        <section class="card" id="waterCard">
          <div class="card-title">물/음료</div>

          <div class="grid-2">
            <div class="field">
              <label class="label">종류</label>
              <select class="select" id="waterType">
                <option value="물">물</option>
                <option value="분유">분유</option>
                <option value="우유">우유</option>
                <option value="주스">주스</option>
                <option value="기타">기타</option>
              </select>
            </div>

            <div class="field">
              <label class="label">섭취량(ml)</label>
              <div class="stepper">
                <button class="stepper-btn" id="waterMinus">-</button>
                <input class="input stepper-input" id="waterAmount" type="number" min="0" step="10" value="0" />
                <button class="stepper-btn" id="waterPlus">+</button>
              </div>
              <div class="hint">10ml 단위로 조절</div>
            </div>
          </div>

          <button class="btn primary" id="btnAddWater">기록 추가</button>
          <hr class="sep" />

          <div class="list" id="waterList"></div>
        </section>

        <!-- Food Manual -->
        <section class="card hidden" id="foodManualCard">
          <div class="card-title">음식수동</div>

          <div class="grid-2">
            <div class="field">
              <label class="label">음식명</label>
              <input class="input" id="foodName" placeholder="예) 바나나, 고구마, 이유식..." />
              <div class="hint" id="foodDbStatus">DB 로딩 상태: -</div>
            </div>

            <div class="field">
              <label class="label">섭취량(g)</label>
              <div class="stepper">
                <button class="stepper-btn" id="foodMinus">-</button>
                <input class="input stepper-input" id="foodGram" type="number" min="0" step="5" value="0" />
                <button class="stepper-btn" id="foodPlus">+</button>
              </div>
              <div class="hint">5g 단위로 조절</div>
            </div>
          </div>

          <div class="field">
            <label class="label">검색 후보</label>
            <div class="list small" id="foodCandidates"></div>
            <div class="hint">후보를 클릭하면 선택됩니다.</div>
          </div>

          <button class="btn primary" id="btnAddFoodManual">기록 추가</button>
          <hr class="sep" />

          <div class="list" id="foodManualList"></div>
        </section>

        <!-- Food AI (NEW: 기존 UI 패턴 그대로) -->
        <section class="card hidden" id="foodAiCard">
          <div class="card-title">음식 AI</div>

          <div class="grid-2">
            <div class="field">
              <label class="label">AI 판별 음식명</label>
              <input class="input" id="foodAiName" placeholder="예) 바나나 (AI 결과를 입력/붙여넣기)" />
              <div class="hint" id="foodAiDbStatus">DB 로딩 상태: -</div>
            </div>

            <div class="field">
              <label class="label">섭취량(g)</label>
              <div class="stepper">
                <button class="stepper-btn" id="foodAiMinus">-</button>
                <input class="input stepper-input" id="foodAiGram" type="number" min="0" step="5" value="0" />
                <button class="stepper-btn" id="foodAiPlus">+</button>
              </div>
              <div class="hint">5g 단위로 조절</div>
            </div>
          </div>

          <div class="field">
            <label class="label">DB 후보(클릭해서 선택)</label>
            <div class="list small" id="foodAiCandidates"></div>
            <div class="hint">AI 결과와 가장 가까운 항목을 선택하세요.</div>
          </div>

          <button class="btn primary" id="btnAddFoodAi">기록 추가</button>
          <hr class="sep" />

          <div class="list" id="foodAiList"></div>
        </section>

        <!-- Today -->
        <section class="card hidden" id="todayCard">
          <div class="card-title">오늘요약</div>

          <div class="summary" id="todaySummary">
            <div class="summary-row">
              <div class="summary-label">총 수분(ml)</div>
              <div class="summary-value" id="todayTotalMl">0</div>
            </div>
            <div class="summary-row">
              <div class="summary-label">기록 수</div>
              <div class="summary-value" id="todayCount">0</div>
            </div>
            <div class="summary-row">
              <div class="summary-label">마지막 기록</div>
              <div class="summary-value" id="todayLast">-</div>
            </div>
          </div>

          <hr class="sep" />

          <div class="list" id="todayList"></div>
        </section>

        <!-- Monthly -->
        <section class="card hidden" id="monthlyCard">
          <div class="card-title">월별요약</div>

          <div class="grid-2">
            <div class="field">
              <label class="label">월 선택</label>
              <input class="input" type="month" id="monthPicker" />
            </div>
            <div class="field">
              <label class="label">총 수분(ml)</label>
              <div class="kpi" id="monthTotalMl">0</div>
            </div>
          </div>

          <hr class="sep" />

          <div class="list" id="monthList"></div>
        </section>
      </main>
    </div>

    <!-- Delete modal -->
    <div class="modal-overlay" id="modalOverlay" style="display:none" aria-hidden="true">
      <div class="modal" id="modal" role="dialog" aria-modal="true">
        <div class="modal-title">기록을 삭제할까요?</div>
        <div class="modal-text">선택한 항목이 즉시 삭제됩니다. 계속 진행하시겠습니까?</div>
        <div class="modal-btns">
          <button class="modal-btn" id="btnCancel">취소</button>
          <button class="modal-btn danger" id="btnConfirm">삭제</button>
        </div>
      </div>
    </div>

    <script type="module" src="./js/app.js"></script>
  </body>
</html>
